<div>
  <div id="factor-header">
    <button
      mat-icon-button
      *ngIf="canEdit$ | async"
      color="primary"
      (click)="onEditClicked()"
      id="edit-button"
    >
      <mat-icon>edit</mat-icon>
    </button>
    <h3 *ngIf="factor" class="font-semibold">{{ factor.name }}</h3>
  </div>

  <div
    *ngIf="factor && factor.measures?.length > 0"
    class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4"
  >
    <div *ngFor="let measure of factor.measures">
      <app-success-measure
        [measureName]="measures[measure]?.name"
        [factorName]="factor.name"
        [dimensionName]="this.dimensionName"
      ></app-success-measure>
    </div>
  </div>
  <div *ngIf="canEdit$ | async as editMode">
    <button
      class="w-full mt-5"
      mat-raised-button
      mat-button
      color="primary"
      (click)="openPickMeasureDialog()"
    >
      {{ 'success-factor.add-measure-button' | translate }}
    </button>
    <div *ngIf="!editMode && factor?.measures.length === 0">
      {{ 'success-factor.no-measures-placeholder' | translate }}
    </div>
  </div>
</div>
