<mat-dialog-content>
  <mat-form-field>
    <mat-label>{{
      'success-modeling.questionnaires.pick-questionnaire-dialog.survey-select'
        | translate
    }}</mat-label>
    <mat-select [(value)]="selectedSurvey">
      <mat-option
        *ngFor="let survey of surveys$ | async"
        [value]="survey"
      >
        {{ survey.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <a
    mat-icon-button
    [href]="mobsosSurveysUrl + 'surveys'"
    color="primary"
    target="_blank"
  >
    <mat-icon>add</mat-icon>
  </a>
  <a
    *ngIf="selectedSurvey"
    mat-icon-button
    [href]="mobsosSurveysUrl + 'surveys/' + selectedSurvey.id"
    color="primary"
    target="_blank"
  >
    <mat-icon>open_in_browser</mat-icon>
  </a>

  <mat-checkbox
    [ngModel]="addMeasures"
    (ngModelChange)="onAddMeasuresChange($event)"
    >{{
      'success-modeling.questionnaires.pick-questionnaire-dialog.add-measures'
        | translate
    }}</mat-checkbox
  >
  <br />
  <mat-checkbox [(ngModel)]="assignMeasures">{{
    'success-modeling.questionnaires.pick-questionnaire-dialog.assign-measures'
      | translate
  }}</mat-checkbox>
  <h5>Don't see your survey?</h5>
  <button
    mat-button
    type="button"
    color="primary"
    (click)="openAddSurveyDialog()"
  >
    <mat-icon>add</mat-icon> Start a new survey
  </button>
</mat-dialog-content>

<mat-dialog-actions>
  <button
    mat-button
    type="button"
    [disabled]="!selectedSurvey"
    (click)="closeDialog()"
  >
    {{ 'shared.elements.ok-label' | translate }}
  </button>
  <button mat-button [mat-dialog-close]="null">
    {{ 'shared.elements.cancel-label' | translate }}
  </button>
</mat-dialog-actions>
