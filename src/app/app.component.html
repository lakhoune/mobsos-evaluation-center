<mat-sidenav-container>
  <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'"
               [fixedInViewport]="mobileQuery.matches">
    <mat-nav-list>
      <a mat-list-item routerLink="/" routerLinkActive="active" (click)="snav.toggle()">
        <mat-icon>list</mat-icon>
        {{'shared.pages.dashboard'|translate}}
      </a>
      <a mat-list-item routerLink="/success-modeling" routerLinkActive="active" (click)="snav.toggle()">
        <mat-icon>check_circle_outline</mat-icon>
        {{'shared.pages.success-modeling'|translate}}
      </a>
      <a mat-list-item routerLink="/raw-edit" routerLinkActive="active" [hidden]="!expertMode" (click)="snav.toggle()">
        <mat-icon>code</mat-icon>
        {{'shared.pages.raw-edit'|translate}}
      </a>
    </mat-nav-list>
    <footer>
      <mat-slide-toggle labelPosition="before" (change)="setExpertMode($event.checked)">
        {{'shared.pages.raw-edit'|translate}}
      </mat-slide-toggle>
      <mat-action-list>
        <button mat-list-item (click)="useLanguage('en')" [disabled]="languageService.getCurrentLanguage() == 'en'">
          English
        </button>
        <button mat-list-item (click)="useLanguage('de')" [disabled]="languageService.getCurrentLanguage() == 'de'">
          Deutsch
        </button>
      </mat-action-list>
    </footer>
  </mat-sidenav>
  <mat-sidenav-content>
    <las2peer-frontend-statusbar id="las2peer-statusbar" service="{{title}}"
                                 [attr.oidcAuthority]="environment.openIdAuthorityUrl"
                                 [attr.oidcclientid]="environment.openIdClientId"
                                 [attr.baseurl]="environment.las2peerWebConnectorUrl"
                                 oidcpopupsigninurl="oidc-signin"
                                 oidcpopupsignouturl="oidc-signout"
                                 oidcsilentsigninturl="oidc-silent"
                                 autoAppendWidget=true
                                 (signed-in)="setUser($event.detail)"
                                 (signed-out)="setUser(null)">
      <button mat-icon-button slot="left" (click)="snav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    </las2peer-frontend-statusbar>
    <main>
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
